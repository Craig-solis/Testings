<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>

    <!-- Styles & Icons -->
    <link rel="stylesheet" href="../CSS/dashboard.css" />
    <link rel="icon" type="image/png" href="../images/FrostByte_logo_ABV.png" />
  </head>

  <body>
    <!-- Loader placeholder (optional, for auth fallback) -->
    <div id="loader">
      <div class="spinner"></div>
      <p>Verifying session...</p>
      <div class="fallback-link">
        If nothing happens, <a href="login.html">click here to log in</a>.
      </div>
    </div>

    <!-- Main content hidden by default until auth confirmed -->
    <div id="content" style="display: none">
      <nav class="navbar">
        <div class="navbar-container">
          <a href="#" class="navbar-logo">
            <img src="../images/Light_Logo_Full.png" alt="Navigation Logo" />
          </a>
          <button class="navbar-toggle">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </button>
          <ul class="navbar-menu">
            <li><a href="#" class="active">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="recipies.html">Recipies</a></li>
            <li><a href="#contact-form">Contact</a></li>
            <li>
              <a id="admin-dashboard" href="admin-dashboard.html"
                >Admin Portal</a
              >
            </li>
            <button id="signOutBtn" class="signout-btn">Sign Out</button>
          </ul>
        </div>
      </nav>

      <section class="hero-container">
        <h1 class="hero-title">DevSecOps Hub</h1>
        <p>
          Your centralized platform for integrating security into every stage of
          the development lifecycle. Monitor vulnerabilities, automate security
          testing, and ensure compliance across your DevSecOps pipeline.
          <br /><br />
          Explore our security tools, threat intelligence feeds, and automated
          security assessments below.
        </p>
      </section>

      <!-- Security Monitoring Section -->
      <section class="security-monitoring">
        <h2>Endpoint Security Monitoring</h2>
        <div class="endpoint-grid">
          <div class="endpoint-card" id="endpoint-status">
            <h3>Endpoint Status</h3>
            <div id="endpoint-info">
              <p>Loading endpoint information...</p>
            </div>
            <button id="refresh-endpoints" class="btn-primary">
              Refresh Data
            </button>
          </div>

          <div class="endpoint-card" id="security-scan">
            <h3>Security Scan Results</h3>
            <div id="scan-results">
              <p>No recent scans available</p>
            </div>
            <button id="run-scan" class="btn-secondary">
              Run Security Scan
            </button>
          </div>

          <div class="endpoint-card" id="threat-level">
            <h3>Threat Assessment</h3>
            <div id="threat-info">
              <div class="threat-indicator low">
                <span class="threat-level">LOW</span>
                <span class="threat-description">System appears secure</span>
              </div>
            </div>
          </div>
        </div>

        <div class="endpoint-config">
          <h3>Agent Configuration</h3>
          <div class="config-form">
            <label for="endpoint-url">Endpoint URL:</label>
            <input
              type="text"
              id="endpoint-url"
              placeholder="http://target-machine:5000"
              value="http://localhost:5000"
            />
            <label for="api-key">API Key:</label>
            <input
              type="password"
              id="api-key"
              placeholder="Enter API key"
              value="your-secret-api-key"
            />
            <button id="test-connection" class="btn-primary">
              Test Connection
            </button>
          </div>
        </div>
      </section>

      <section class="contact-container">
        <form id="contact-form" class="contact-form">
          <h2>Contact Me</h2>
          <label for="name">Name:</label>
          <input
            type="text"
            id="name"
            name="name"
            placeholder="Enter your name"
            required
          />

          <label for="email">Email:</label>
          <input
            type="email"
            id="email"
            name="email"
            placeholder="Enter your email"
            required
          />

          <label for="message">Message:</label>
          <textarea
            id="message"
            name="message"
            rows="8"
            placeholder="Enter your message"
            required
          ></textarea>

          <button type="submit">Send Message</button>
        </form>
      </section>

      <footer>
        <p>&copy; 2025 FrostByte Inc. All rights reserved.</p>
      </footer>
    </div>

    <!-- Firebase & Dashboard Logic -->
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script type="module" src="../Java/auth.js"></script>
    <script type="module" src="../Java/dashboard.js"></script>
  </body>
</html>
